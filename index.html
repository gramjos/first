<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title> Doc. </title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
<h1 style="color:blue;">'To be alive is to risk it all' -Rick</h1>
<h3 style="color:green;">notebook</h3>

<button id="togglePanel" class="toggle-btn">☰ Open Notebook</button>

<div id="sidePanel" class="side-panel">
  <div id="resizeHandle" class="resize-handle"></div>
  <div class="panel-header">
    <h3>Notebook Viewer</h3>
    <button id="closePanel" class="close-btn">✕</button>
  </div>
  <div class="panel-content">
    <iframe
      src="/notebooks/output_dir/index.html"
      width="100%"
      height="100%"
      frameborder="0"
    ></iframe>
  </div>
</div>

<style>
  .side-panel {
    position: fixed;
    top: 0;
    right: -100%;
    width: 80%;
    max-width: 1200px;
    min-width: 300px;
    height: 100vh;
    background: white;
    box-shadow: -2px 0 10px rgba(0,0,0,0.3);
    transition: right 0.3s ease;
    z-index: 1000;
    display: flex;
    flex-direction: column;
  }
  
  .side-panel.open {
    right: 0;
  }
  
  .side-panel.resizing {
    transition: none;
  }
  
  .resize-handle {
    position: absolute;
    left: 0;
    top: 0;
    width: 8px;
    height: 100%;
    cursor: ew-resize;
    background: #ddd;
    z-index: 1002;
  }
  
  .resize-handle:hover {
    background: #4CAF50;
  }
  
  .panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background: #f5f5f5;
    border-bottom: 1px solid #ddd;
    flex-shrink: 0;
  }
  
  .panel-header h3 {
    margin: 0;
    color: #333;
    font-size: 18px;
  }
  
  .panel-content {
    flex: 1;
    overflow: hidden;
  }
  
  .toggle-btn {
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border: 2px solid #4CAF50;
    background: white;
    border-radius: 4px;
  }
  
  .toggle-btn:hover {
    background: #4CAF50;
    color: white;
  }
  
  .close-btn {
    padding: 5px 15px;
    font-size: 24px;
    cursor: pointer;
    border: none;
    background: transparent;
    color: #666;
  }
  
  .close-btn:hover {
    color: red;
  }
</style>

<script>
  const panel = document.getElementById('sidePanel');
  const toggleBtn = document.getElementById('togglePanel');
  const closeBtn = document.getElementById('closePanel');
  const resizeHandle = document.getElementById('resizeHandle');
  
  let isResizing = false;
  let startX = 0;
  let startWidth = 0;
  
  toggleBtn.addEventListener('click', () => {
    panel.classList.add('open');
    toggleBtn.textContent = '☰ Close Notebook';
  });
  
  closeBtn.addEventListener('click', () => {
    panel.classList.remove('open');
    toggleBtn.textContent = '☰ Open Notebook';
  });
  
  // Resize functionality
  resizeHandle.addEventListener('mousedown', (e) => {
    isResizing = true;
    startX = e.clientX;
    startWidth = panel.offsetWidth;
    panel.classList.add('resizing');
    document.body.style.cursor = 'ew-resize';
    document.body.style.userSelect = 'none'; // Prevent text selection while dragging
    e.preventDefault();
  });
  
  document.addEventListener('mousemove', (e) => {
    if (!isResizing) return;
    
    e.preventDefault(); // Prevent any default behavior
    
    const deltaX = startX - e.clientX;
    const newWidth = startWidth + deltaX;
    
    // Min width: 300px, Max width: 90% of viewport
    const minWidth = 300;
    const maxWidth = window.innerWidth * 0.9;
    
    const clampedWidth = Math.max(minWidth, Math.min(maxWidth, newWidth));
    panel.style.width = clampedWidth + 'px';
    panel.style.maxWidth = clampedWidth + 'px';
  }, { passive: false });
  
  // End resizing on mouseup anywhere in the document
  document.addEventListener('mouseup', (e) => {
    if (isResizing) {
      isResizing = false;
      panel.classList.remove('resizing');
      document.body.style.cursor = '';
      document.body.style.userSelect = '';
      e.preventDefault();
    }
  });
  
  // Also end resizing if mouse leaves the window
  document.addEventListener('mouseleave', (e) => {
    if (isResizing) {
      isResizing = false;
      panel.classList.remove('resizing');
      document.body.style.cursor = '';
      document.body.style.userSelect = '';
    }
  });
</script>

</body>
</html>



